-- Initial pghaskell-internal.cabal generated by cabal init.  For further 
-- documentation, see http://haskell.org/cabal/users-guide/

name:                pghaskell-internal
version:             0.1
synopsis:            pghaskell internals
-- description:         
license:             BSD3
license-file:        LICENSE
author:              Lana Black
maintainer:          lanablack@amok.cc
-- copyright:           
category:            Database
build-type:          Simple
extra-source-files:  ChangeLog.md
cabal-version:       >=1.10

flag debug
  description:         Build with debugging symbols

library
  exposed-modules:     PgHaskell.Internal
                       PgHaskell.Internal.Elog
                       PgHaskell.Internal.Postgre
                       PgHaskell.Internal.Types
  other-modules:       PgHaskell.Internal.InlineC
  -- other-extensions:    
  build-depends:       base >=4.9 && <4.10,
                       bytestring,
                       containers >= 0.5,
                       inline-c,
                       template-haskell,
                       text >= 1.2
  hs-source-dirs:      src
  c-sources:           src/PgHaskell/Internal/Elog.c
                       src/PgHaskell/Internal/Postgre.c
  if flag(debug)
    cc-options:          -Wall -std=c11 -D_POSIX_C_SOURCE=1 -g -O0
    ghc-options:         -Wall -g
  else
    cc-options:          -Wall -Werror -std=c11 -D_POSIX_C_SOURCE=1
    ghc-options:         -Wall -Werror
  include-dirs:        /usr/include/postgresql /usr/include/postgresql/server
  default-language:    Haskell2010
